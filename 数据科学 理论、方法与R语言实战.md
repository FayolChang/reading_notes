# 数据科学 理论、方法与R语言实战

本书分成3个部分：引论，建模方法和结果交付。

在引论中，第一章介绍了数据科学的处理过程：比较有特色的是，介绍了数据科学项目中的角色和介绍了数据科学项目的周期，从制定目标、收集和管理数据，到建立模型、评价和批判模型，展现结果和文档，最终部署模型。

## 角色

项目出资方： 最重要的角色。

​	出资方是想得到数据科学结果的人，通常，他们代表了商业利益。

​	出资方认定项目是成功还是失败。

​	要保持出资方的知悉和介入

​	让出资方两眼一抹黑必定导致项目失败

客户：代表模型中最终用户的利益的角色。

​	有时候出资方和客户由同一个人承担。

​	客户比出资方更有实际经验。

数据科学家：

​	负责执行使项目成功所必须的步骤，包括设定项目战略和保证客户知悉情况。他们设计项目步骤、挑选数据源、挑选使用的工具。

数据架构师：

​	通常由数据科学团队之外的人担任

运营工程师：

## 数据科学项目的阶段

### 制定目标

数据科学项目的第一个任务就是制定一个可衡量和可量化的目标。在该阶段， 尽你可能了解该项目的背景信息：

 * 首先为什么出资方需要设立该项目？他们缺少什么以及需要什么
 * 出资方正在做什么事情来解决问题？为什么还不够好？
 * 你需要什么资源：什么种类的数据以及需要多少？你是否需要有一起合作的领域专家？计算资源是什么？
 * 项目出资方计划如何部署你的结果？为了成功地完成部署，必须满足哪些约束条件？

例子：

​	目标减少银行因不良贷款导致的损失。

​	出资方：设计一款帮助贷款员的工具，可以更精确的为贷款申请人打分，从而减少不良贷款的数量。

​	同时，让贷款员觉得他们对于批准贷款具有最终的判断力，这也是很重要的。

精确目标：

​	应该是具体且可衡量的

​	不是我们想更好的发现不良贷款

​	而是我们使用一个队拖欠贷款申请人进行预测的模型，减少10%以上的不良贷款损耗率

### 搜集和管理数据

这个阶段包含识别你需要的数据并进行探索， 使其满足适合于分析的条件。

* 什么数据可以给我使用？
* 这些数据是否有助于我解决问题？
* 这些数据是否足够多？
* 数据质量是否足够好？

尽可能地使用可直接度量的信息，而不是使用从另一个度量中推导出的信息。

​	例如，你可以使用收入作为变量，从而推测低收入者意味着更难付清贷款。

​	但是，如果考虑与借贷者可支配收入相比的还贷数额大小，这个值可以更加直接地度量还清贷款的能力。

在这个阶段，将对数据进行初始的探索和可视化处理。你也将清洗数据，包括修复数据错误、按需转换变量。

也许你会在数据中发现一些问题，新出新的问题， 这些问题比原先计划处理的问题更加重要。

例子：图1-2显示，看起来安全的申请者（已经还清贷款）比看起来有风险的人（过去拖欠过贷款）具有更高的拖欠贷款的比例。

原因：这个样本数据可能存在偏差：你只有实际已发生的贷款数据。总的来说，看起来有风险的贷款，可能要经过严格审查才能被批准，而看起来安全的贷款申请者，也许绕过了这些审查。

**这说明，如果你的模型用于当前申请批准流程的下游，则信贷历史不再是有用的变量。**

也说明对那些即使看起来安全的贷款申请也应该更加仔细地进行严格审查。

类似这样的发现将导致你和其他利益方去修改或者精细化项目目标。在这个示例中，你将决定专门关注那些看起来安全的贷款申请。

当你在数据中发现有用的东西后，在这个阶段和前一阶段之间，以及在这个阶段和建模阶段之间，进行反复循环处理是常见的情况。

### 建立模型

这里，你需要从数据中抽取有用的洞察和领悟，以达到你的目标。

许多建模程序需要关于数据分布和关联关系的具体假设。因此，为了找到数据表达的最好方式和数据建模的最好形式，在建模阶段和清洗阶段之间会有重叠和重复。

最常见的建模任务有：

* 分类
* 打分
* 排名
* 聚类
* 找关系，找出相关性或潜在的原因
* 特战化，从数据中生成通用的绘图或报表

### 模型评价和批判

* 对你的需求来说是否足够准确？能否很好的概括需求？
* 是否比直观猜测表现更好？比当前使用的任何估计都表现的更好？
* 模型结果在问题领域的情景中是否有意义？

### 展现和编制文档

这里可以参考《story telling with data》 和 《Show Me the Numbers》

对于受众来说，他们不会对模型的细节感兴趣，你应该略过这些或者只呈现高级形式。

为出资方做的展现，要强调减少了多少损失。

为模型的最终用户(贷款员)做的展现，要强调该模型如何有助于他们把工作做得更好：

* 他们应该如何解释模型？
* 该模型的输出结果是什么样子？
* 如果该模型提供决策树规则的执行轨迹，应如何解读它？
* 如果该模型提供了分类的置信度分数，应该如何使用这个置信度分数？
* 他们何时可能会否决该模型？

### 模型的部署和维护

在许多机构中，这意味着数据科学家不再主要负责该模型的日常操作。但是，你应该确保模型能平滑运行，不会产生灾难性的不可监管的决策。

你也应该保证该模型可以随着环境变化而更新。

## 设定预期

### 确定模型性能的下界和上界

 * 空值模型：性能的下界，模型性能必须比直观猜测好
 * 贝叶斯率：模型性能的上界。要检查的一件事情是统计学家所谓的**不可解释方差**：对于你的输入变量，多大的输出偏差是不可解释的。

第二章加载数据，主要介绍了载入csv,excel, json, xml,数据库数据。

第三章探索数据中，介绍了使用概要统计发现问题，如缺失值，可能错误的数据，如年龄为负数，等等，以及使用可视化的方法发现问题：

主要是直方图，概率密度图，以及可视化2个变量的关系：散点图，线图，柱状图

第四章管理数据，介绍了如何清洗数据：处理缺失值与数据转换

对于缺失数据，可以简单删除，对于类型变量的缺失数据，可以把它单独成一类，对于值变量的数据，可以转变成分类变量(cut), 缺失值插补(arima, mice, etc. 可以参考 R语言实战)

数据转换：对于范围比较大的数据，可以考虑对数转换，标准化等